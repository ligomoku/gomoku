export default function debounce(f, wait, immediate = false) {
    let timeout;
    let lastBounce = 0;
    return function (...args) {
        const self = this;
        if (timeout)
            clearTimeout(timeout);
        timeout = undefined;
        const elapsed = performance.now() - lastBounce;
        lastBounce = performance.now();
        if (immediate && elapsed > wait)
            f.apply(self, args);
        else
            timeout = setTimeout(() => {
                timeout = undefined;
                f.apply(self, args);
            }, wait);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVib3VuY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvZGVib3VuY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE9BQU8sVUFBVSxRQUFRLENBQzlCLENBQUksRUFDSixJQUFZLEVBQ1osU0FBUyxHQUFHLEtBQUs7SUFFakIsSUFBSSxPQUE0QixDQUFDO0lBQ2pDLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQztJQUVuQixPQUFPLFVBQXFCLEdBQUcsSUFBbUI7UUFDaEQsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRWxCLElBQUksT0FBTztZQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNuQyxPQUFPLEdBQUcsU0FBUyxDQUFDO1FBRXBCLE1BQU0sT0FBTyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxVQUFVLENBQUM7UUFDL0MsVUFBVSxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUMvQixJQUFJLFNBQVMsSUFBSSxPQUFPLEdBQUcsSUFBSTtZQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDOztZQUVuRCxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRTtnQkFDeEIsT0FBTyxHQUFHLFNBQVMsQ0FBQztnQkFDcEIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDdEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2IsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlYm91bmNlPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiB2b2lkPihcbiAgZjogVCxcbiAgd2FpdDogbnVtYmVyLFxuICBpbW1lZGlhdGUgPSBmYWxzZVxuKTogKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pID0+IHZvaWQge1xuICBsZXQgdGltZW91dDogVGltZW91dCB8IHVuZGVmaW5lZDtcbiAgbGV0IGxhc3RCb3VuY2UgPSAwO1xuXG4gIHJldHVybiBmdW5jdGlvbiAodGhpczogYW55LCAuLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAodGltZW91dCkgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBlbGFwc2VkID0gcGVyZm9ybWFuY2Uubm93KCkgLSBsYXN0Qm91bmNlO1xuICAgIGxhc3RCb3VuY2UgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBpZiAoaW1tZWRpYXRlICYmIGVsYXBzZWQgPiB3YWl0KSBmLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIGVsc2VcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgIH0sIHdhaXQpO1xuICB9O1xufVxuIl19