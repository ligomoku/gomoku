import throttle from './throttle';
export const runner = (hacks, throttleMs = 100) => {
    let timeout;
    const runHacks = throttle(throttleMs, () => requestAnimationFrame(() => {
        hacks();
        schedule();
    }));
    function schedule() {
        timeout && clearTimeout(timeout);
        timeout = setTimeout(runHacks, 500);
    }
    runHacks();
};
let boundChessgroundResize = false;
export const bindChessgroundResizeOnce = (f) => {
    if (!boundChessgroundResize) {
        boundChessgroundResize = true;
        document.body.addEventListener('chessground.resize', f);
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZEhhY2tzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2dyaWRIYWNrcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLFFBQVEsTUFBTSxZQUFZLENBQUM7QUFFbEMsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQUMsS0FBaUIsRUFBRSxVQUFVLEdBQUcsR0FBRyxFQUFRLEVBQUU7SUFDbEUsSUFBSSxPQUEyQixDQUFDO0lBRWhDLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFLENBQ3pDLHFCQUFxQixDQUFDLEdBQUcsRUFBRTtRQUN6QixLQUFLLEVBQUUsQ0FBQztRQUNSLFFBQVEsRUFBRSxDQUFDO0lBQ2IsQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUVGLFNBQVMsUUFBUTtRQUNmLE9BQU8sSUFBSSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakMsT0FBTyxHQUFHLFVBQVUsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELFFBQVEsRUFBRSxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsSUFBSSxzQkFBc0IsR0FBRyxLQUFLLENBQUM7QUFFbkMsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsQ0FBQyxDQUFhLEVBQVEsRUFBRTtJQUMvRCxJQUFJLENBQUMsc0JBQXNCLEVBQUU7UUFDM0Isc0JBQXNCLEdBQUcsSUFBSSxDQUFDO1FBQzlCLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDekQ7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdGhyb3R0bGUgZnJvbSAnLi90aHJvdHRsZSc7XG5cbmV4cG9ydCBjb25zdCBydW5uZXIgPSAoaGFja3M6ICgpID0+IHZvaWQsIHRocm90dGxlTXMgPSAxMDApOiB2b2lkID0+IHtcbiAgbGV0IHRpbWVvdXQ6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICBjb25zdCBydW5IYWNrcyA9IHRocm90dGxlKHRocm90dGxlTXMsICgpID0+XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGhhY2tzKCk7XG4gICAgICBzY2hlZHVsZSgpO1xuICAgIH0pXG4gICk7XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGUoKSB7XG4gICAgdGltZW91dCAmJiBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQocnVuSGFja3MsIDUwMCk7XG4gIH1cblxuICBydW5IYWNrcygpO1xufTtcblxubGV0IGJvdW5kQ2hlc3Nncm91bmRSZXNpemUgPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IGJpbmRDaGVzc2dyb3VuZFJlc2l6ZU9uY2UgPSAoZjogKCkgPT4gdm9pZCk6IHZvaWQgPT4ge1xuICBpZiAoIWJvdW5kQ2hlc3Nncm91bmRSZXNpemUpIHtcbiAgICBib3VuZENoZXNzZ3JvdW5kUmVzaXplID0gdHJ1ZTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoZXNzZ3JvdW5kLnJlc2l6ZScsIGYpO1xuICB9XG59O1xuIl19