export default function (select) {
    const max = 5, $select = $(select), $rate = $('<rate-stars>').addClass('rate-active').insertAfter(select), getValue = () => parseInt($select.val()), $stars = Array(max)
        .fill(0)
        .map((_, i) => $('<star>')
        .data('v', i + 1)
        .appendTo($rate)), setClasses = () => requestAnimationFrame(() => {
        const v = hovered || getValue();
        $stars.map(($star, i) => $star.toggleClass('rate-selected', i <= v - 1));
    });
    let hovered = 0;
    setClasses();
    $rate
        .on('mouseenter', 'star', function () {
        hovered = parseInt(this.getAttribute('data-v'));
        setClasses();
    })
        .on('mouseleave', 'star', function () {
        hovered = 0;
        setClasses();
    })
        .on('click', 'star', function () {
        $select.val(this.getAttribute('data-v'));
        setClasses();
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9yYXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxPQUFPLFdBQVcsTUFBeUI7SUFDaEQsTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUNYLE9BQU8sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQ25CLEtBQUssR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsRUFDckUsUUFBUSxHQUFHLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFZLENBQUMsRUFDbEQsTUFBTSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUM7U0FDaEIsSUFBSSxDQUFDLENBQUMsQ0FBQztTQUNQLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFTLEVBQUUsRUFBRSxDQUNwQixDQUFDLENBQUMsUUFBUSxDQUFDO1NBQ1IsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2hCLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FDbkIsRUFDSCxVQUFVLEdBQUcsR0FBRyxFQUFFLENBQ2hCLHFCQUFxQixDQUFDLEdBQUcsRUFBRTtRQUN6QixNQUFNLENBQUMsR0FBRyxPQUFPLElBQUksUUFBUSxFQUFFLENBQUM7UUFDaEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsZUFBZSxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzRSxDQUFDLENBQUMsQ0FBQztJQUVQLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQztJQUVoQixVQUFVLEVBQUUsQ0FBQztJQUViLEtBQUs7U0FDRixFQUFFLENBQUMsWUFBWSxFQUFFLE1BQU0sRUFBRTtRQUN4QixPQUFPLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFFLENBQUMsQ0FBQztRQUNqRCxVQUFVLEVBQUUsQ0FBQztJQUNmLENBQUMsQ0FBQztTQUNELEVBQUUsQ0FBQyxZQUFZLEVBQUUsTUFBTSxFQUFFO1FBQ3hCLE9BQU8sR0FBRyxDQUFDLENBQUM7UUFDWixVQUFVLEVBQUUsQ0FBQztJQUNmLENBQUMsQ0FBQztTQUNELEVBQUUsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFO1FBQ25CLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUUsQ0FBQyxDQUFDO1FBQzFDLFVBQVUsRUFBRSxDQUFDO0lBQ2YsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHNlbGVjdDogSFRNTFNlbGVjdEVsZW1lbnQpIHtcbiAgY29uc3QgbWF4ID0gNSxcbiAgICAkc2VsZWN0ID0gJChzZWxlY3QpLFxuICAgICRyYXRlID0gJCgnPHJhdGUtc3RhcnM+JykuYWRkQ2xhc3MoJ3JhdGUtYWN0aXZlJykuaW5zZXJ0QWZ0ZXIoc2VsZWN0KSxcbiAgICBnZXRWYWx1ZSA9ICgpID0+IHBhcnNlSW50KCRzZWxlY3QudmFsKCkgYXMgc3RyaW5nKSxcbiAgICAkc3RhcnMgPSBBcnJheShtYXgpXG4gICAgICAuZmlsbCgwKVxuICAgICAgLm1hcCgoXywgaTogbnVtYmVyKSA9PlxuICAgICAgICAkKCc8c3Rhcj4nKVxuICAgICAgICAgIC5kYXRhKCd2JywgaSArIDEpXG4gICAgICAgICAgLmFwcGVuZFRvKCRyYXRlKVxuICAgICAgKSxcbiAgICBzZXRDbGFzc2VzID0gKCkgPT5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHYgPSBob3ZlcmVkIHx8IGdldFZhbHVlKCk7XG4gICAgICAgICRzdGFycy5tYXAoKCRzdGFyLCBpKSA9PiAkc3Rhci50b2dnbGVDbGFzcygncmF0ZS1zZWxlY3RlZCcsIGkgPD0gdiAtIDEpKTtcbiAgICAgIH0pO1xuXG4gIGxldCBob3ZlcmVkID0gMDtcblxuICBzZXRDbGFzc2VzKCk7XG5cbiAgJHJhdGVcbiAgICAub24oJ21vdXNlZW50ZXInLCAnc3RhcicsIGZ1bmN0aW9uICh0aGlzOiBIVE1MRWxlbWVudCkge1xuICAgICAgaG92ZXJlZCA9IHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXYnKSEpO1xuICAgICAgc2V0Q2xhc3NlcygpO1xuICAgIH0pXG4gICAgLm9uKCdtb3VzZWxlYXZlJywgJ3N0YXInLCBmdW5jdGlvbiAodGhpczogSFRNTEVsZW1lbnQpIHtcbiAgICAgIGhvdmVyZWQgPSAwO1xuICAgICAgc2V0Q2xhc3NlcygpO1xuICAgIH0pXG4gICAgLm9uKCdjbGljaycsICdzdGFyJywgZnVuY3Rpb24gKHRoaXM6IEhUTUxFbGVtZW50KSB7XG4gICAgICAkc2VsZWN0LnZhbCh0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS12JykhKTtcbiAgICAgIHNldENsYXNzZXMoKTtcbiAgICB9KTtcbn1cbiJdfQ==