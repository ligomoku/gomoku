let wakeLock = null;
export const request = async () => {
    if ('wakeLock' in navigator)
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        }
        catch (e) {
            console.error('wakeLock - request failed: ' + e);
        }
};
export const release = async () => {
    try {
        await (wakeLock === null || wakeLock === void 0 ? void 0 : wakeLock.release());
        wakeLock = null;
    }
    catch (e) {
        console.error('wakeLock - release failed: ' + e);
    }
};
// re-request wakeLock if user switches tabs
document.addEventListener('visibilitychange', () => {
    if (wakeLock && document.visibilityState === 'visible')
        request();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2FrZUxvY2suanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvd2FrZUxvY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSSxRQUFRLEdBQTRCLElBQUksQ0FBQztBQUU3QyxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsS0FBSyxJQUFJLEVBQUU7SUFDaEMsSUFBSSxVQUFVLElBQUksU0FBUztRQUN6QixJQUFJO1lBQ0YsUUFBUSxHQUFHLE1BQU0sU0FBUyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDdkQ7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNWLE9BQU8sQ0FBQyxLQUFLLENBQUMsNkJBQTZCLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDbEQ7QUFDTCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsS0FBSyxJQUFJLEVBQUU7SUFDaEMsSUFBSTtRQUNGLE1BQU0sQ0FBQSxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsT0FBTyxFQUFFLENBQUEsQ0FBQztRQUMxQixRQUFRLEdBQUcsSUFBSSxDQUFDO0tBQ2pCO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixPQUFPLENBQUMsS0FBSyxDQUFDLDZCQUE2QixHQUFHLENBQUMsQ0FBQyxDQUFDO0tBQ2xEO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsNENBQTRDO0FBQzVDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7SUFDakQsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLGVBQWUsS0FBSyxTQUFTO1FBQUUsT0FBTyxFQUFFLENBQUM7QUFDcEUsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgd2FrZUxvY2s6IFdha2VMb2NrU2VudGluZWwgfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGNvbnN0IHJlcXVlc3QgPSBhc3luYyAoKSA9PiB7XG4gIGlmICgnd2FrZUxvY2snIGluIG5hdmlnYXRvcilcbiAgICB0cnkge1xuICAgICAgd2FrZUxvY2sgPSBhd2FpdCBuYXZpZ2F0b3Iud2FrZUxvY2sucmVxdWVzdCgnc2NyZWVuJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcignd2FrZUxvY2sgLSByZXF1ZXN0IGZhaWxlZDogJyArIGUpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCByZWxlYXNlID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IHdha2VMb2NrPy5yZWxlYXNlKCk7XG4gICAgd2FrZUxvY2sgPSBudWxsO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcignd2FrZUxvY2sgLSByZWxlYXNlIGZhaWxlZDogJyArIGUpO1xuICB9XG59O1xuXG4vLyByZS1yZXF1ZXN0IHdha2VMb2NrIGlmIHVzZXIgc3dpdGNoZXMgdGFic1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsICgpID0+IHtcbiAgaWYgKHdha2VMb2NrICYmIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSByZXF1ZXN0KCk7XG59KTtcbiJdfQ==