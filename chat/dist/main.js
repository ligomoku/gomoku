import { init, attributesModule, classModule } from 'snabbdom';
import makeCtrl from './ctrl';
import view from './view';
export default function LichessChat(element, opts) {
    const patch = init([classModule, attributesModule]);
    const ctrl = makeCtrl(opts, redraw);
    const blueprint = view(ctrl);
    element.innerHTML = '';
    let vnode = patch(element, blueprint);
    function redraw() {
        vnode = patch(vnode, view(ctrl));
    }
    return ctrl;
}
window.LichessChat = LichessChat; // esbuild
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEVBQUUsV0FBVyxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRS9ELE9BQU8sUUFBUSxNQUFNLFFBQVEsQ0FBQztBQUM5QixPQUFPLElBQUksTUFBTSxRQUFRLENBQUM7QUFNMUIsTUFBTSxDQUFDLE9BQU8sVUFBVSxXQUFXLENBQ2pDLE9BQWdCLEVBQ2hCLElBQWM7SUFJZCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxXQUFXLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO0lBRXBELE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFFcEMsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzdCLE9BQU8sQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFFdEMsU0FBUyxNQUFNO1FBQ2IsS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQUVBLE1BQWMsQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDLENBQUMsVUFBVSJ9